{"version":3,"sources":["Header.js","Footer.js","firebase.js","Utils.js","Section.js","App.js","index.js"],"names":["Header","className","href","Footer","year","Date","getFullYear","firebaseConfig","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","initializeApp","firestore","database","getCurrentDate","separator","newDate","date","getDate","month","getMonth","sortByLevel","a","b","difficulties","master","publish_date","sortByDate","category","lineColor_1","clickCount","chartStatus","isChecked","drawLine","ctx_info","id","lineWidth","beginPath","undefined","toString","strokeStyle","moveTo","lineTo","stroke","gradient","createLinearGradient","addColorStop","clearRect","data","document","getElementById","childNodes","nodeValue","checkStatus","borderColor","undo","e","parentDiv","ReactDOM","render","type","placeholder","onClick","submitNickname","Sections","forwardRef","props","ref","style","border","src","width","height","for","accept","onChange","uploadProfileImage","display","window","URL","createObjectURL","files","value","categoryBg","getValues","element","chartref","Promise","resolve","reject","setTimeout","orderByChild","equalTo","once","then","val","components","res","key","imageStyle","backgroundImage","backgroundSize","backgroundRepeat","listStyle","canvasName","drawDash","component","ctx","target","getContext","getComponent","all","map","idx","Object","keys","length","res2","index","d","slice","sort","groups_styles","borderBottom","backgroundPosition","div_col1","div_col2","backgroundColor","row_styles","tested","Section","useAsync","promiseFn","error","isLoading","sectionRef","useRef","Fragment","exportComponentAsPNG","fileName","alert","saveImage","App","StrictMode"],"mappings":"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","file":"static/js/main.2dffd636.chunk.js","sourcesContent":["\r\nexport function Header()\r\n{\r\n    return(\r\n      <div className=\"container\">      \r\n        <header className=\"App-header d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom\">\r\n\r\n        <a href=\"/\" className=\"d-flex mb-3 mb-md-0 me-md-auto text-dark text-decoration-none\">\r\n            <span className=\"fs-5\">프로세카 기록체크표</span>\r\n        </a>\r\n\r\n        </header>\r\n      </div>\r\n    );\r\n}","export function Footer()\r\n{\r\n    const year = new Date().getFullYear();\r\n    return(\r\n        <div className=\"container\">\r\n            <footer className=\"App-footer d-flex flex-wrap justify-content-end py-3 my-4 border-top\">\r\n                <p className=\"col mb-0 text-muted\">Copyrightⓒ {year} All rights reserved by ironhiro.</p>\r\n            </footer>\r\n        </div>\r\n    );\r\n}","// Import the functions you need from the SDKs you need\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/database\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: `${process.env.REACT_APP_FIREBASE_API_KEY}`,\r\n    authDomain: \"prsk-fctable.firebaseapp.com\",\r\n    databaseURL: \"https://prsk-fctable-default-rtdb.firebaseio.com\",\r\n    projectId: \"prsk-fctable\",\r\n    storageBucket: \"prsk-fctable.appspot.com\",\r\n    messagingSenderId: \"140146201777\",\r\n    appId: \"1:140146201777:web:abb25839a5311ce056be90\",\r\n    measurementId: \"G-X3M6JJ94V0\"\r\n  };\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst firestore = firebase.database();\r\n\r\nexport {firestore};\r\n\r\n\r\n","export function getCurrentDate(separator='/'){\r\n\r\n    let newDate = new Date()\r\n    let date = newDate.getDate();\r\n    let month = newDate.getMonth() + 1;\r\n    let year = newDate.getFullYear();\r\n    \r\n    return `${year}${separator}${month<10?`0${month}`:`${month}`}${separator}${date}`\r\n}\r\n\r\nexport function sortByLevel(a,b){\r\n    if(a.difficulties.master == b.difficulties.master){return sortByDate(a,b);} return a.difficulties.master > b.difficulties.master ? 1 : -1;\r\n}\r\n\r\nexport function sortByDate(a,b){\r\n    if(a.publish_date == b.publish_date){return 0;} return a.publish_date > b.publish_date ? 1 : -1;\r\n}\r\n\r\n\r\n","import './Section.css';\r\nimport {firestore} from './firebase';\r\nimport {useAsync} from \"react-async\";\r\nimport {exportComponentAsPNG, exportComponentAsJPEG} from 'react-component-export-image';\r\nimport React, {forwardRef, useRef} from 'react';\r\nimport {getCurrentDate, sortByLevel} from './Utils';\r\nimport ReactDOM from 'react-dom';\r\nimport './Section.css';\r\n\r\n\r\nconst category = ['vocaloid', 'light_music_club', 'idol', 'street', 'theme_park', 'school_refusal','other'];\r\nconst lineColor_1 = [\"#ffd642\", \"#f755e7\", \"#76d6ff\",\"transparent\"];\r\n\r\nlet clickCount = {};\r\nlet chartStatus = {\r\n    'fc': 0,\r\n    'clear': 0,\r\n    'blank': 0,\r\n    'ap' : 0,\r\n};\r\n\r\nlet isChecked = false;\r\n\r\nconst headerComponent = () =>{\r\n    return(\r\n        <div className=\"container text-center mt-5 mb-5\">\r\n            <div className=\"h1 mb-5\">\r\n                프로세카 기록체크표\r\n            </div>\r\n            <div className=\"h5 mb-5\">\r\n                \r\n                이 체크표는 서열표가 아닙니다.\r\n                <br></br>\r\n                <br></br>\r\n                 각 그룹곡들은 난이도순으로 정렬되어있습니다.<br></br>\r\n                  같은 난이도면 곡이 나온 순으로 정렬되어있습니다.\r\n                  <br></br>\r\n                  <br></br>\r\n                 현재 시점에서는 전체 그룹 범위에서 체크만 가능합니다.<br></br>\r\n                  추후 그룹 필터 기능을 추가할 예정입니다.\r\n                  <br></br>\r\n                  <br></br>\r\n                  이 체크표는 pc환경에서의 사용을 권장합니다. <br></br>\r\n                  크롬 브라우저 이외의 브라우저 사용 시 원활한 사용이 보장되지 않습니다.\r\n                  <br></br>\r\n                  <br></br>\r\n                 이미지와 닉네임을 등록하고 맨 아래쪽에 있는 버튼을 누르면<br></br>\r\n                  풀콤체크표.png라는 이름으로 브라우저에 지정된 다운로드 위치에 저장됩니다.\r\n                  <br></br>\r\n                  <br></br>\r\n                 기타 피드백 및 버그사항은 <a href=\"mailto:ironhiro@kakao.com?subject=[버그/피드백]\">ironhiro@kakao.com</a>으로 보내주시길 바랍니다.\r\n                \r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nconst drawLine = (ctx_info, id) =>{\r\n    ctx_info.lineWidth = 20;\r\n    ctx_info.beginPath();\r\n    \r\n    if(clickCount[id.toString()] === undefined)\r\n    {\r\n        ctx_info.strokeStyle = lineColor_1[0];\r\n        ctx_info.moveTo(0,0);\r\n        ctx_info.lineTo(300,150);\r\n        ctx_info.stroke();\r\n        clickCount[id.toString()] = 1;\r\n    }\r\n    else\r\n    {\r\n        if(clickCount[id.toString()]%4===2)\r\n        {\r\n            let gradient = ctx_info.createLinearGradient(0,0,300,150);\r\n            gradient.addColorStop(\"0\", \"#faaff9\");\r\n            gradient.addColorStop(\"0.5\", \"#8ad1fe\");\r\n            gradient.addColorStop(\"1\", \"#03d7b4\");\r\n            ctx_info.strokeStyle = gradient;\r\n        }\r\n        else\r\n        {\r\n            ctx_info.strokeStyle = lineColor_1[clickCount[id.toString()]%4];\r\n        }\r\n        \r\n        ctx_info.clearRect(0,0,300,150);\r\n        ctx_info.moveTo(0,0);\r\n        ctx_info.lineTo(300,150);\r\n        ctx_info.stroke();\r\n        clickCount[id.toString()]++;\r\n    }\r\n   \r\n    checkStatus(id);\r\n}\r\n\r\n\r\n\r\nconst borderColor = {\r\n    'vocaloid': \"#00FFDD\",\r\n    'light_music_club': \"#4455dd\",\r\n    'idol': '#88DD44',\r\n    'street': \"#EE1166\",\r\n    'theme_park': \"#FF9900\",\r\n    'school_refusal': \"#884499\",\r\n    'other': \"#2ED7E1\"\r\n};\r\n\r\nconst origComponent = ()=>{\r\n    return(\r\n        <div className=\"h5 input-group\">\r\n            <input type=\"text\" id=\"input-username\" className=\"form-control\" placeholder=\"닉네임을 등록해주세요\" aria-label=\"username\"></input>\r\n            <button className=\"btn btn-primary\" onClick={submitNickname}>등록하기</button>    \r\n        </div>\r\n    );\r\n};\r\nconst nickNameComponent = (data) =>{\r\n    return(\r\n        <div className=\"h1 text-center\">\r\n            {data}\r\n            <br></br>\r\n            <button className=\"btn btn-primary\" id=\"button_undo\" onClick={undo}>다시 작성하기</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction undo(e)\r\n{\r\n    let parentDiv = document.getElementById('custom-profile');\r\n    ReactDOM.render(origComponent(), parentDiv);\r\n    isChecked=false;\r\n}\r\n\r\n\r\n\r\nconst Sections = forwardRef((props, ref) =>{\r\n    const imageStyle = {\r\n        border: '5px solid #F1F1F1',\r\n    }\r\n   \r\n    return(\r\n        <div className=\"App-section container\" ref={ref}>\r\n                {headerComponent()}\r\n                <div className=\"container\"> \r\n                    <div className=\"d-flex justify-content-around mt-5\">\r\n                        <div className=\"d-flex flex-column\" id=\"custom-profile-root\">\r\n                            <div className=\"p-2 mb-3 text-center\">\r\n                                <img style={imageStyle} id=\"profile_img\"  src={process.env.PUBLIC_URL +  \"/assets/default.png\"} width=\"150px\" height=\"150px\"></img>\r\n                                <br></br>\r\n                                <label id=\"input-file\" className=\"input-file-button\" for=\"upload_file\">\r\n                                    이미지 업로드\r\n                                </label>\r\n                                \r\n                                <input type=\"file\" accept=\"image/*\" className=\"btn btn-primary\" id=\"upload_file\" onChange={uploadProfileImage} style={{display:\"none\"}}></input>\r\n                            </div>\r\n                            <div className=\"p-2 mb-3\" id=\"custom-profile\">\r\n                                <div className=\"h5 input-group\">\r\n                                    <input type=\"text\" id=\"input-username\" className=\"form-control\" placeholder=\"닉네임을 등록해주세요\" aria-label=\"username\"></input>\r\n                                    <button className=\"btn btn-primary\" onClick={submitNickname}>등록하기</button>    \r\n                                </div>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                       <div className=\"d-flex flex-row h2 my-auto\">\r\n                            <div id=\"current_date\" className=\"p-2\">{getCurrentDate()}</div>\r\n                            <div id = \"blank_status\" className=\"p-2\">\r\n                                <img src={process.env.PUBLIC_URL +  \"/assets/status/blank.png\"} width=\"25px\" height=\"25px\"></img>\r\n                                {chartStatus['blank']}\r\n                            </div>\r\n                            <div id = \"clear_status\" className=\"p-2\">\r\n                                <img src={process.env.PUBLIC_URL +  \"/assets/status/clear.png\"} width=\"25px\" height=\"25px\"></img>\r\n                                {chartStatus['clear']}\r\n                            </div>\r\n                            <div id = \"fc_status\" className=\"p-2\">\r\n                                <img src={process.env.PUBLIC_URL +  \"/assets/status/fc.png\"} width=\"25px\" height=\"25px\"></img>\r\n                                {chartStatus['fc']}\r\n                            </div>\r\n                            <div id = \"ap_status\" className=\"p-2\">\r\n                                <img src={process.env.PUBLIC_URL +  \"/assets/status/ap.png\"} width=\"25px\" height=\"25px\"></img>\r\n                                {chartStatus['ap']}\r\n                            </div>\r\n\r\n                       </div>\r\n                    </div>\r\n                </div>\r\n                {props.props}\r\n                <div className=\"container mt-5\">\r\n                    <p className=\"text-end\">\r\n                    Powered by <a href=\"https://twitter.com/ironhiro1\">@ironhiro1</a>, <a href=\"https://twitter.com/dabin_o_o\">@dabin_o_o</a>\r\n                    </p>\r\n                </div>\r\n        </div>\r\n    );\r\n  });\r\n\r\nfunction uploadProfileImage(e)\r\n{\r\n    document.getElementById('profile_img').src = window.URL.createObjectURL(document.getElementById('upload_file').files[0]);    \r\n}\r\n\r\nfunction submitNickname()\r\n{\r\n    let parentDiv = document.getElementById('custom-profile');\r\n    ReactDOM.render(nickNameComponent(document.getElementById('input-username').value), parentDiv);\r\n    isChecked=true;\r\n}\r\n\r\nfunction saveImage(sectionRef)\r\n{\r\n    if(isChecked)\r\n    {\r\n        document.getElementById('input-file').style.display = \"none\";\r\n        document.getElementById('button_undo').style.display = \"none\";\r\n        exportComponentAsPNG(sectionRef,{fileName:\"풀콤체크표.png\"});\r\n        document.getElementById('input-file').style.display = \"inline\";\r\n        document.getElementById('button_undo').style.display = \"inline\";\r\n    }\r\n    else\r\n    {\r\n        alert(\"닉네임을 입력해주세요..!\");\r\n    }\r\n    \r\n}\r\n\r\nfunction categoryBg(category)\r\n{\r\n    var a = '';\r\n    switch(category)\r\n    {\r\n        case 'light_music_club':\r\n            a='leoneed.png';\r\n            break;\r\n        case 'vocaloid':\r\n            a='vs.png';\r\n            break;\r\n        case 'idol':\r\n            a='mmj.png';\r\n            break;\r\n        case 'street':\r\n            a='vbs.png';\r\n            break;\r\n        case 'school_refusal':\r\n            a='25ji.png';\r\n            break;\r\n        case 'theme_park':\r\n            a='wxs.png';\r\n            break;\r\n        case 'other':\r\n            a=`${category}.png`;\r\n            break;\r\n\r\n    }\r\n    return a;\r\n}\r\n\r\nfunction checkStatus(data)\r\n{\r\n    \r\n    switch(clickCount[data] % 4)\r\n    {\r\n        case 1:\r\n            document.getElementById(\"clear_status\").childNodes[1].nodeValue = ++chartStatus['clear'];\r\n            document.getElementById(\"blank_status\").childNodes[1].nodeValue = --chartStatus['blank'];\r\n            break;\r\n        case 2:\r\n            document.getElementById(\"fc_status\").childNodes[1].nodeValue = ++chartStatus['fc'];\r\n            break;\r\n        case 3:\r\n            document.getElementById(\"ap_status\").childNodes[1].nodeValue = ++chartStatus['ap'];\r\n            break;\r\n        case 0:\r\n            document.getElementById(\"blank_status\").childNodes[1].nodeValue = ++chartStatus['blank'];\r\n            document.getElementById(\"ap_status\").childNodes[1].nodeValue = --chartStatus['ap'];\r\n            document.getElementById(\"clear_status\").childNodes[1].nodeValue = --chartStatus['clear'];\r\n            document.getElementById(\"fc_status\").childNodes[1].nodeValue = --chartStatus['fc'];\r\n            break;\r\n    }\r\n    \r\n}\r\n\r\n\r\nfunction getValues(element)\r\n{\r\n    // 맞는 데이터 찾는 과정\r\n    \r\n    const chartref = firestore.ref('charts');\r\n\r\n    const result = new Promise(function(resolve,reject){\r\n        setTimeout(function(){\r\n            chartref.orderByChild('category').equalTo(element).once('value').then((data)=>{\r\n            resolve(data.val());\r\n        },2000)})});\r\n    \r\n    \r\n    return result;\r\n}\r\nfunction components(data)\r\n{\r\n    const res = `${process.env.PUBLIC_URL}/assets/jackets/${data.key}.png`;\r\n    const imageStyle ={\r\n        backgroundImage: `url(${res})`,\r\n        backgroundSize: \"cover\",\r\n        backgroundRepeat: \"no-repeat\",\r\n    }\r\n    const listStyle = {\r\n        border: `5px solid ${borderColor[data.category]}`,\r\n    }\r\n    const canvasName = `${data.key}`;\r\n   \r\n\r\n    \r\n    return <li style={listStyle}><canvas id={canvasName}  onClick={drawDash} className=\"jackets\" style={imageStyle}></canvas></li>\r\n}\r\n\r\nfunction drawDash(component)\r\n{\r\n    const canvas = document.getElementById(component.target.id);\r\n    const ctx = canvas.getContext(\"2d\");\r\n    drawLine(ctx, component.target.id);\r\n}\r\n\r\n\r\n\r\nasync function getComponent()\r\n{\r\n    const tested = await Promise.all(category.map(function(element,idx){\r\n    return getValues(element).then(function(data){\r\n        chartStatus['blank'] += Object.keys(data).length;\r\n        const res = Object.keys(data).map((res)=>{\r\n            return data[res]['id'];\r\n        });\r\n        const res2 = Object.keys(data).map((res)=>{\r\n            return data[res];\r\n        });\r\n        const b = res2.map(function(data,index){\r\n            data.key=res[index];\r\n            return data;\r\n        });\r\n        \r\n        const c = b.slice(0).sort(function(a,b){\r\n            return sortByLevel(a,b);\r\n        });\r\n        \r\n        const d = c.map((data)=>components(data));\r\n    \r\n        return d;\r\n    }).then(function(data){\r\n        const b = `${process.env.PUBLIC_URL}/assets/groupunits/${categoryBg(element)}`;\r\n        const groups_styles={\r\n            borderBottom: '10px solid ' + borderColor[element],\r\n            backgroundImage: `linear-gradient(rgba(255,255,255,0.3), rgba(255,255,255,0.3)), url(${process.env.PUBLIC_URL}/assets/backgrounds/${categoryBg(element)})`,\r\n            \r\n            backgroundSize: 'cover',\r\n            backgroundPosition: '20% 20%',\r\n        }\r\n        const charts_styles={\r\n            backgroundColor: 'rgba(211,211,211,0.3)',\r\n            backgroundSize: 'cover',\r\n        }\r\n        const div_col1 = (\r\n            <div  style={groups_styles}  className=\"col music-category mx-auto my-auto text-center\">\r\n                    <img className=\"groups\" src={b}></img>\r\n            </div>\r\n        );\r\n        const div_col2 =  (\r\n            <div style={charts_styles} className=\"col-9 mx-auto my-auto w-100\">\r\n                    <ul className=\"text-center\">\r\n                        {data}\r\n                    </ul>\r\n            </div>\r\n        );\r\n        const row_styles = {\r\n            border: '10px solid ' + borderColor[element],\r\n            \r\n        }\r\n     \r\n        return (\r\n                <div style={row_styles}  className=\"row chart-list h-100 mt-5\">\r\n                    {div_col1}\r\n                    {div_col2} \r\n                </div>\r\n        )\r\n    })}));    \r\n    return tested\r\n}\r\n\r\n\r\nexport function Section()\r\n{\r\n    const {data: components, error, isLoading} = useAsync({\r\n        promiseFn: getComponent\r\n    });\r\n\r\n    const sectionRef = useRef();\r\n    if(isLoading) return <div className=\"container\">로딩중...</div>\r\n    if(error) return <div className=\"container\">Error</div>\r\n    if(components){ \r\n        //Section 위쪽에 인장 \r\n         \r\n        return (\r\n            <React.Fragment>\r\n                \r\n                <Sections ref={sectionRef} props={components}/>\r\n                <div className=\"py-4 my-4 container text-center border-top\">\r\n                    <button onClick={() => saveImage(sectionRef)} className=\"btn btn-primary btn-lg\">이미지 생성하기</button>\r\n                </div>\r\n            </React.Fragment>\r\n            \r\n        );\r\n    } \r\n}","import './App.css';\nimport {Header} from './Header';\nimport {Footer} from './Footer';\nimport {Section} from './Section';\nimport React, {useRef} from 'react';\n\n\nfunction App() {\n  \n  \n  return (\n    <div className=\"App\">\n      <Header />\n      <Section />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css';\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}